function changeLabelTextByColumn(a,b){void 0!=$("#"+activeId).attr(b)&&$("#"+activeId).attr(b,a.value),$("#"+activeId).html(a.value)}function changeListId(a,b){void 0!=$("#"+activeId).attr(b)&&$("#"+activeId).attr(b,a.value)}function changeStyleByColumn(a,b){var c=$("#"+activeId).attr("style"),d="";if("font-size"==b&&(d="px"),void 0!=c&&""!=c){var e=splitByChar(c,";"),f={};for(var g in e)if(""!=e[g]){var h=e[g].split(":");f[h[0]]=h[1]+";"}f[b]=a.value+d+";";var i="";for(var j in f)i+=j+":"+f[j];$("#"+activeId).attr("style",i)}else $("#"+activeId).attr("style",b+":"+a.value+d+";");$("#"+activeId).attr(b,a.value)}function addValue(a){var b=$("#"+a+"_digitValue").val(),c=parseInt(b)+1;0==c&&alert("不能为0"),$("#"+a+"_digitValue").val(c);var d={};d.value=c,changeStyleByColumn(d,a)}function minusValue(a){var b=$("#"+a+"_digitValue").val(),c=parseInt(b)-1;if(0==c)return void alert("不能为0!");$("#"+a+"_digitValue").val(c);var d={};d.value=c,changeStyleByColumn(d,a)}function splitByChar(a,b){return a.indexOf(b)<0?a:a.split(b)}function changeTableBorder(a){$("#"+activeId).removeClass(),$("#"+activeId).addClass(a.value)}function changeTableTitle(a){""==a.value?$("#"+activeId).find("tr:first td").removeClass():$("#"+activeId).find("tr:first td").addClass(a.value)}function changeTableMargin(a){"listrow_type"==$("#"+activeId).parents("li").attr("id")&&("1"==a.value?$("#"+activeId).parents("li").addClass("padding_left_right"):"2"==a.value&&$("#"+activeId).parents("li").removeClass("padding_left_right").css("padding-bottom","7px"))}function changeHiddenColumn(a){var b=$("#"+activeId),c=a.value;if(""!=$.trim(c))for(var d=splitByChar(c,","),e=1;e<=d.length;e++)$(b).find("tr td:nth-child("+e+")").css("display","none");else $(b).find("tr td").css("display","")}function changeHiddingByColumn(a,b){"true"==a.value?$("#"+activeId).parents("li").addClass("hidding"):$("#"+activeId).parents("li").removeClass("hidding"),$("#"+activeId).attr(b,a.value)}function changeRowColumns(){var a=$("#listrowidId").val(),b=$("#rowsId").val(),c=$("#columnsId").val(),d=$("table[listrowid="+a+"]").get(0);$(d).empty();var e="",f=50;0!=c&&(f=100/c),f+="%";for(var g=1;b>=g;g++){if(e+="<tr>",2==c)e+='<td ondrop="drop(event)" ondragover="allowDrop(event)">1</td>',e+='<td ondrop="drop(event)" ondragover="allowDrop(event)">1</td>';else for(var h=1;c>=h;h++)e+='<td width="'+f+'" ondrop="drop(event)" ondragover="allowDrop(event)">'+h+"</td>";e+="</tr>"}$(d).append(e)}function changeColumns(a){var b=$("#listidId").val(),c=$("div[listid="+b+"]").get(0),d=$(c).children("div").get(0),e=$(c).children("div:last"),f=$(c).attr("id"),g=$(d).children().length;if("ui-grid-c"==a.value){if($(d).attr("class","ui-grid-c"),$(e).attr("class","ui-grid-c"),g>4)$(d).children("div:last").remove(),$(e).children("div:last").remove();else if(4>g){var h='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(f+4)+'" name="'+(f+4)+'">第四列</label></div>',i='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="createtime" name="show_label_type_createtime" id="createtime">Some Text</label></div>';$(d).append(h),$(e).append(i)}}else if("ui-grid-d"==a.value){if($(d).attr("class","ui-grid-d"),$(e).attr("class","ui-grid-d"),3==g){var h='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(f+4)+'" name="'+(f+4)+'">第四列</label></div><div class="ui-block-d" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(f+5)+'" name="'+(f+5)+'">第五列</label></div>',i='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="createtime" name="show_label_type_createtime" id="createtime">Some Text</label></div><div class="ui-block-d" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="createtime" name="show_label_type_createtime" id="createtime">Some Text</label></div>';$(d).append(h),$(e).append(i)}else if(4==g){var h='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(f+5)+'" name="'+(f+5)+'">第五列</label></div>',i='<div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="createtime" name="show_label_type_createtime" id="createtime">Some Text</label></div>';$(d).append(h),$(e).append(i)}}else"ui-grid-b"==a.value&&($(d).attr("class","ui-grid-b"),$(e).attr("class","ui-grid-b"),4==g?($(d).children("div:last").remove(),$(e).children("div:last").remove()):5==g&&($(d).children("div:gt(2)").remove(),$(e).children("div:gt(2)").remove()))}function allowDrop(a){a.preventDefault()}function drag(a){a.dataTransfer.setData("Text",a.target.id)}function drop(ev){ev.preventDefault();var data=ev.dataTransfer.getData("Text"),time=(new Date).getTime(),realId="idId_"+new String(time),config={};config=new MeditorConfig(config);var plugins=config.plugins,html="";if($.each(plugins,function(i,n){for(var key in n){var pObj=eval(n[key]);if($.trim(data)==key){var editor=new pObj(data,realId);html=Meditor.create(editor);break}}}),"label"==ev.target.tagName.toLowerCase())$("#"+ev.target.id).replaceWith(html);else if("p"==ev.target.tagName.toLowerCase()){var td=$(ev.target).parents("td");$(td).empty(),$(td).append(html)}else"td"==ev.target.tagName.toLowerCase()&&(ev.target.innerHTML=html);ev.stopPropagation()}function Meditor(){this.createTag=function(){},this.initConfig=function(a){var b=$("head:first"),c=document.createElement("script");c.type="text/javascript",c.src=a+"mconfig.js",$(b).append(c),c=document.createElement("script"),c.type="text/javascript",c.src=a+"core/cominteraction.js",$(b).append(c),c=document.createElement("script"),c.type="text/javascript",c.src=a+"core/buildCanvas.js",$(b).append(c),c=document.createElement("script"),c.type="text/javascript",c.src=a+"core/buildAttributions.js",$(b).append(c),c=document.createElement("script"),c.type="text/javascript",c.src=a+"core/editorDisplay.js",$(b).append(c)},this.initPlugin=function(a){var b={};b=new MeditorConfig(b);var c=b.plugins;$.each(c,function(b,c){var d=document.createElement("script");d.type="text/javascript";for(var e in c){var f=new String(c[e]);d.src=a+"plugins/"+f+".js",$("head:first").append(d)}})},this.parseJsonAttrs=function(a){for(var b="",c="",d={},e=a.allowed,f=0;f<e.length;f++){var g=e[f],h="";if("select"==a[g].type||"select"==a[g].showtype){for(var i=a[g].value,j=0;j<i.length;j++)if(i[j].selected){h=i[j].value;break}}else h=a[g].value;c+=g+'="'+h+'" ',""==b?b='"'+g+'":"'+h+'"':b+=',"'+g+'":"'+h+'"'}return d.attrs=c,d.jsonAttrs=b,d},this.getContent=function(com_type){var config={};config=new MeditorConfig(config);var content="",plugins=config.plugins;return $.each(plugins,function(i,n){for(var key in n){var pObj=eval(n[key]);if(com_type==key){var editor=new pObj;content=editor.contents[com_type];break}}}),content}}function ButtonEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<a id="'+b+'"'+c.attrs+' name="button_type_'+b+'">按钮名称</a><div class="forbidden"></div>';return d},this.contents={button_type:{attrTitle:"按钮属性",allowed:["button_text","auth_action","auth_da_text","data-role","pages_list","data-transition"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"按钮名称",value:"按钮",onkeyup:"changeLabelTextByColumn(this,'button_text');"},auth_action:{id:"auth_actionId",type:"auth_action",label:"执行方式",showtype:"select",value:[{label:"链接",value:"auth_href",selected:!0},{label:"脚本",value:"auth_script",selected:!1},{label:"URL",value:"auth_openpage",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_action');"},auth_da_text:{id:"auth_da_textId",type:"auth_da_text",label:"执行内容",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_da_text');"},"data-role":{id:"data-roleId",type:"data-role",label:"执行内容",value:"button",style:"display:none"},"data-transition":{id:"data-transitionId",type:"data-transition",label:"执行效果",showtype:"select",value:[{label:"淡入",value:"fade",selected:!0},{label:"翻转",value:"flip",selected:!1},{label:"抛出",value:"flow",selected:!1},{label:"弹出",value:"pop",selected:!1},{label:"从右到左滑动",value:"slide",selected:!1},{label:"从右到左滑动并淡入",value:"slidefade",selected:!1},{label:"从下到上滑动",value:"slideup",selected:!1},{label:"从上到下滑动",value:"slidedown",selected:!1},{label:"无效果",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'data-transition');"},"data-icon":{id:"data-iconId",type:"select",label:"图标",showtype:"select",value:[{label:"左箭头",value:"arrow-l",selected:!0},{label:"右箭头",value:"arrow-r",selected:!1},{label:"抛出",value:"flow",selected:!1},{label:"弹出",value:"pop",selected:!1},{label:"从右到左滑动",value:"slide",selected:!1},{label:"从右到左滑动并淡入",value:"slidefade",selected:!1},{label:"从下到上滑动",value:"slideup",selected:!1},{label:"从上到下滑动",value:"slidedown",selected:!1},{label:"无效果",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'data-icon');"},pages_list:{id:"pages_listId",type:"select",label:"跳转页面",value:"",onchange:"(this,'auth_da_text')",style:"display:block"}}}}function DateEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<input class="datetype" readonly="readonly" '+c.attrs+' id="'+b+'" name="'+a+"_"+b+'" type="date" />';return d},this.contents={date_type:{attrTitle:"日期选择属性",allowed:["value","auth_data","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},label:{id:"labelId",type:"text",label:"名称",value:"date",onkeyup:"Cominteraction.changeTextByColumn(this,'label');",style:"display:none"},value:{id:"valueId",type:"text",label:"默认值",value:"date",onkeyup:"Cominteraction.changeTextByColumn(this,'value');"},auth_data:{id:"auth_dataId",type:"auth_data",label:"绑定ID",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_data');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function DividerEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<div id="'+b+'"'+c.attrs+' name="divider_type_'+b+'"></div>';return d},this.contents={divider_type:{attrTitle:"分隔符属性",allowed:["style","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"width:100%; margin: 3px 0;border-top:1px solid #ddd;",onkeyup:"Cominteraction.changeTextByColumn(this,'style');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function FooterEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<div data-role="footer"><h1 id="'+b+'"'+c.attrs+' name="'+a+"_"+b+'">页脚</h1></div>';return d},this.contents={footer_type:{attrTitle:"页脚属性",allowed:["button_text"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"页眉名称",value:"字段名称",onkeyup:"changeLabelTextByColumn(this,'button_text');"}}}}function HeaderEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<div data-role="header"><h1 id="'+b+'"'+c.attrs+' name="'+a+"_"+b+'">页眉</h1></div>';return d},this.contents={header_type:{attrTitle:"页眉属性",allowed:["button_text","style"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:" ",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"页眉名称",value:"字段名称",onkeyup:"changeLabelTextByColumn(this,'button_text');"}}}}function HeaderNavEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<div data-role="header" '+c.attrs+'><h1 id="'+b+'" name="'+b+'"><div data-role="navbar"> <ul><li><a href="#" data-role="button">同意</a></li>  <li><a href="#" data-role="button">拒绝</a></li></ul></div></h1></div>';return d},this.contents={headernav_type:{attrTitle:"页眉属性",allowed:["button_text","style","header-position"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:" ",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},"header-position":{id:"nav-positionId",type:"select",label:"是否固定",value:[{label:"是",value:"fixed",selected:!0},{label:"否",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'header-position');"},button_text:{id:"button_textId",type:"text",label:"页眉名称",value:"字段名称",onkeyup:"changeLabelTextByColumn(this,'button_text');",style:"display:none"}}}}function InputEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<input readonly="readonly" '+c.attrs+' id="'+b+'" name="'+a+"_"+b+'" type="text"  />';return d},this.contents={input_type:{attrTitle:"输入框属性",allowed:["value","placeholder","auth_data","auth_isfill","auth_isvalue","auth_range","isrequired","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"textinput",style:"display:none"},label:{id:"labelId",type:"text",label:"名称",value:"Text Name",style:"display:none"},type:{id:"typeId",type:"select",label:"输入类型",value:[{label:"文本",value:"text",selected:!0},{label:"密码",value:"password",selected:!1},{label:"数字",value:"number",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'type');"},value:{id:"valueId",type:"text",label:"默认值",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'value');"},placeholder:{id:"placeholderId",type:"text",label:"占位符",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'placeholder');"},auth_range:{id:"auth_rangeId",type:"auth_range",label:"值域范围",showtype:"select",value:[{label:"全局级",value:"system",selected:!1},{label:"页面级",value:"page",selected:!1},{label:"协议级",value:"protocol",selected:!0}],onchange:"Cominteraction.changeTextByColumn(this,'auth_range');"},auth_data:{id:"auth_dataId",type:"auth_data",label:"绑定ID",value:""},auth_isfill:{id:"auth_isfillId",type:"auth_isfill",label:"是否被填充数据",showtype:"select",value:[{label:"是",value:"true",selected:!0},{label:"否",value:"false",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_isfill');"},auth_isvalue:{id:"auth_isvalueId",type:"text",label:"默认值",value:"true",style:"display:none"},isrequired:{id:"isrequiredId",type:"select",label:"是否必填",value:[{label:"是",value:"0",selected:!0},{label:"否",value:"1",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'isrequired');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function InputHiddenEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d="<label "+c.attrs+' id="'+b+'" name="'+a+"_"+b+'">隐藏域</label>';return d},this.contents={hidden_type:{attrTitle:"输入框属性",allowed:["value","type","auth_data","auth_isfill","auth_isvalue","auth_range"],id:{id:"idId",type:"text",label:"ID / Name",value:"textinput",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},label:{id:"labelId",type:"text",label:"名称",value:"Text Name",style:"display:none"},type:{id:"typeId",type:"hidden",label:"输入类型",value:"hidden",onchange:"Cominteraction.changeTextByColumn(this,'type');"},value:{id:"valueId",type:"text",label:"默认值",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'value');"},auth_isfill:{id:"auth_isfillId",type:"auth_isfill",label:"是否被填充数据",showtype:"select",value:[{label:"是",value:"true",selected:!0},{label:"否",value:"false",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_isfill');"},auth_isvalue:{id:"auth_isvalueId",type:"text",label:"默认值",value:"true",style:"display:none"},auth_range:{id:"auth_rangeId",type:"auth_range",label:"值域范围",showtype:"select",value:[{label:"全局级",value:"system",selected:!1},{label:"页面级",value:"page",selected:!1},{label:"协议级",value:"protocol",selected:!0}],onchange:"Cominteraction.changeTextByColumn(this,'auth_range');"},auth_data:{id:"auth_dataId",type:"auth_data",label:"绑定ID",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_data');"}}}}function LabelEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<label  id="'+b+'" '+c.attrs+' name="'+a+"_"+b+'">'+this.contents[a].value.label+'</label><div class="forbidden"></div>';return d},this.contents={label_type:{attrTitle:"文本属性",allowed:["style","columnname","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},value:{id:"valueId",type:"text",label:"字段名称",value:"字段名称",onkeyup:"changeLabelTextByColumn(this,'value');",style:"display:none"},columnname:{id:"columnNameId",type:"text",label:"columnName",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},"font-size":{id:"font-sizeId",type:"digitAddMinus",label:"字体大小",value:"",attrName:"font-size"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function LinkEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<a id="'+b+'"'+c.attrs+' name="link_type_'+b+'">链接名称</a><div class="forbidden"></div>';return d},this.contents={link_type:{attrTitle:"链接属性",allowed:["button_text","auth_action","auth_da_text","pages_list"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"链接名称",value:"链接",onkeyup:"changeLabelTextByColumn(this,'button_text');"},auth_action:{id:"auth_actionId",type:"auth_action",label:"执行方式",showtype:"select",value:[{label:"链接",value:"auth_href",selected:!0},{label:"脚本",value:"auth_script",selected:!1},{label:"URL",value:"auth_openpage",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_action');"},auth_da_text:{id:"auth_da_textId",type:"auth_da_text",label:"执行内容",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_da_text');",style:"display:none"},pages_list:{id:"pages_listId",type:"select",label:"跳转页面",value:"",onchange:"Cominteraction.changeTextByColumn(this,'auth_da_text')",style:"display:block"}}}}function ListEditor(a,b){this.createTag=function(){var a='<div listid="listid" id="'+b+'"><div class="ui-grid-b" ><div class="ui-block-a" style="border-top:1px solid #D8D8D8;border-left:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(b+1)+'" name="'+(b+1)+'">标题</label></div><div class="ui-block-b" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(b+2)+'" name="'+(b+2)+'">摘要</label></div><div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label class="label_font12" contentEditable="true" id="'+(b+3)+'" name="'+(b+3)+'">创建</label></div></div><div class="ui-grid-b" auth_list="true"><div class="ui-block-a" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-left:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="title" name="show_label_type_title" id="title" >Some Text</label></div><div class="ui-block-b" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="descp" name="show_label_type_descp" id="descp">Some Text</label></div><div class="ui-block-c" style="border-top:1px solid #D8D8D8;border-bottom:1px solid #D8D8D8;border-right:1px solid #D8D8D8;"><label auth_range="system" auth_data="createtime" name="show_label_type_createtime" id="createtime">Some Text</label></div></div></div>';return a},this.contents={list_type:{attrTitle:"链接属性",allowed:["listid"],id:{id:"idId",type:"text",label:"ID / Name",value:"",readonly:"readonly",style:"display:none"},listid:{id:"listidId",type:"text",label:"列表ID",value:"listid",onkeyup:"changeListId(this,'listid');"},columns:{id:"columnsId",type:"select",label:"列数",value:[{label:"3",value:"ui-grid-b",selected:!0},{label:"4",value:"ui-grid-c",selected:!1},{label:"5",value:"ui-grid-d",selected:!1}],onchange:"changeColumns(this,'columns');"}}}}function ListRowEditor(a,b){this.createTag=function(){var a=(new Meditor).parseJsonAttrs((new ShowLabelEditor).contents.show_label_type),c='<table cellpadding="0" auth_list="true" cellspacing="0" listrowid="listrowid" id="'+b+'" class=""><tr><td width="50%" ondrop="drop(event)" ondragover="allowDrop(event)"><label class="" id="'+(b+1)+'" name="show_label_type_'+(b+1)+'" '+a.attrs+'>标题</label></td><td width="50%" ondrop="drop(event)" ondragover="allowDrop(event)"><label class="" id="'+(b+2)+'" name="show_label_type_'+(b+2)+'" '+a.attrs+'>测试标题</label></td></tr><tr><td ondrop="drop(event)" ondragover="allowDrop(event)"><label class="label_lineheight" id="'+(b+3)+'" name="label_type_'+(b+3)+'" '+a.attrs+'>摘要</label></td><td ondrop="drop(event)" ondragover="allowDrop(event)"><label class="label_lineheight" id="'+(b+4)+'" name="label_type_'+(b+4)+'" '+a.attrs+">测试标题</label></td></tr></table>";return c},this.contents={listrow_type:{attrTitle:"链接属性",allowed:["listrowid","rows","columns","settings","borderColor","borderMargin","hideTd"],id:{id:"idId",type:"text",label:"ID / Name",value:"",readonly:"readonly",style:"display:none"},listrowid:{id:"listrowidId",type:"text",label:"列表ID",value:"listrowid",onkeyup:"changeListId(this,'listrowid');"},rows:{id:"rowsId",type:"text",label:"行数",value:""},columns:{id:"columnsId",type:"text",label:"列数",value:""},settings:{id:"settingsId",type:"button",value:"设置",onclick:"changeRowColumns(this,'rows','columns');"},titleBgColor:{id:"titleBgColorId",type:"select",label:"标题背景",value:[{label:"默认",value:"",selected:!0},{label:"蓝色",value:"bg_bluecolor",selected:!1}],onchange:"changeTableTitle(this,'titleBgColor');"},borderColor:{id:"borderColorId",type:"select",label:"边框颜色",value:[{label:"默认",value:"",selected:!0},{label:"无",value:"bd_none",selected:!1},{label:"红色",value:"bd_red",selected:!1}],onchange:"changeTableBorder(this,'borderColor');"},borderMargin:{id:"borderMarginId",type:"select",label:"是否有边距",value:[{label:"是",value:"1",selected:!0},{label:"否",value:"2",selected:!1}],onchange:"changeTableMargin(this,'borderMargin');"},hideTd:{id:"hideTdId",type:"text",label:"隐藏列",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'hideTd');",style:"display:none"},setvalue:{id:"setvalueId",type:"select",label:"隐藏列",value:[{label:"无",value:"",selected:!0},{label:"第1列",value:"1",selected:!1},{label:"前两列",value:"1,2",selected:!1},{label:"前三列",value:"1,2,3",selected:!1}],onchange:"changeHiddenColumn(this,'borderMargin');"}}}}function ListViewEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<ul data-autodividers="true" data-inset="true" data-shadow="true" id="m_listView_'+b+'" data-role="listview"><li><a auth_view="true" id="'+b+'"'+c.attrs+' name="listview_type_'+b+'"><img id="m_listView_img" src="resource/images/defaultImg.png"><h2 id="m_listView_title">测试</h2><p><span id="m_listView_descp">收文传阅  张一 </span><span id="m_listView_ct">2014/06/24</span></p></a></li></ul><div class="forbidden"></div>';return d},this.contents={listview_type:{attrTitle:"链接属性",allowed:["listid","auth_action","auth_image","auth_da_text","button_text"],id:{id:"idId",type:"text",label:"ID / Name",value:"",readonly:"readonly",style:"display:none"},listid:{id:"listidId",type:"text",label:"列表ID",value:"",readonly:"readonly",onkeyup:"Cominteraction.changeTextByColumn(this,'listid');"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"链接名称",value:"链接",style:"display:none"},auth_image:{id:"auth_imageId",type:"auth_image",label:"图标名称",value:""},auth_action:{id:"auth_actionId",type:"auth_action",label:"执行方式",showtype:"select",value:[{label:"链接",value:"auth_href",selected:!0},{label:"脚本",value:"auth_script",selected:!1},{label:"URL",value:"auth_openpage",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_action');"},auth_da_text:{id:"auth_da_textId",type:"auth_da_text",label:"执行内容",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_da_text');"}}}}function NoButtonEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<a id="'+b+'"'+c.attrs+' name="no_type_'+b+'">不同意，退回</a><div class="forbidden"></div>';return d},this.contents={no_type:{attrTitle:"同意属性",allowed:["style","button_text","data-role","data-transition"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"链接名称",value:"拒绝",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');"},"data-role":{id:"data-roleId",type:"data-role",label:"执行内容",value:"button",style:"display:none"},"data-transition":{id:"data-transitionId",type:"data-transition",label:"执行效果",showtype:"select",value:[{label:"淡入",value:"fade",selected:!0},{label:"翻转",value:"flip",selected:!1},{label:"抛出",value:"flow",selected:!1},{label:"弹出",value:"pop",selected:!1},{label:"从右到左滑动",value:"slide",selected:!1},{label:"从右到左滑动并淡入",value:"slidefade",selected:!1},{label:"从下到上滑动",value:"slideup",selected:!1},{label:"从上到下滑动",value:"slidedown",selected:!1},{label:"无效果",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'data-transition');"}}}}function OneLineTwoColumnEditor(a,b){this.createTag=function(){var a=(new Meditor).parseJsonAttrs((new LabelEditor).contents.label_type),c=(new Meditor).parseJsonAttrs((new ShowLabelEditor).contents.show_label_type),d=b,e=b+1,f=b+2,g='<label id="'+d+'" name="'+d+'"><span class="details_title_label"><label id="'+e+'" name="label_type_'+e+'" '+a.attrs+'>文件标题:</label></span><span class="details_text"><label class="label_lineheight" id="'+f+'" name="show_label_type_'+f+'" '+c.attrs+">测试标题</label></span></label>";return g},this.contents={onelinetwocolumn_type:{attrTitle:"一行两列属性",allowed:["style","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"width:100%; border-top:1px solid #ddd;",onkeyup:"Cominteraction.changeTextByColumn(this,'style');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function RadioEditor(a){this.createTag=function(){var b=(new Meditor).parseJsonAttrs(this.contents[a]),c='<fieldset id="radioField" data-role="controlgroup" data-type="horizontal"><label for="male">单选</label><input '+b.attrs+' type="radio" name="gender" id="male" value="male"><label for="female">单选</label><input '+b.attrs+' type="radio" name="gender" id="female" value="female"></fieldset>';return c},this.contents={radio_type:{attrTitle:"单选属性",allowed:["auth_radio","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},auth_radio:{id:"auth_radioId",type:"text",label:"字段名称",value:"true",style:"display:none"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function SelectEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<fieldset  data-role="fieldcontain"><label id="'+b+'">选择</label><select '+c.attrs+' name="'+a+"_"+(b+1)+'" id="'+(b+1)+'" data-native-menu="false"><option value="mon">选项一</option><option value="tue">选项二</option></select></fieldset>';return d},this.contents={select_type:{attrTitle:"单选属性",allowed:["auth_select","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},auth_select:{id:"auth_selectId",type:"text",label:"字段名称",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_select');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function ShowLabelEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<label  id="'+b+'"'+c.attrs+' name="'+a+"_"+b+'">显示字段值</label><div class="forbidden"></div>';return d},this.contents={show_label_type:{attrTitle:"显示文本属性",allowed:["auth_data","auth_range","style","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},value:{id:"valueId",type:"text",label:"字段名称",value:"字段名称",onkeyup:"changeLabelTextByColumn(this,'value');",style:"display:none"},auth_range:{id:"auth_rangeId",type:"auth_range",label:"值域范围",showtype:"select",value:[{label:"全局级",value:"system",selected:!1},{label:"页面级",value:"page",selected:!1},{label:"协议级",value:"protocol",selected:!0}],onchange:"Cominteraction.changeTextByColumn(this,'auth_range');"},auth_data:{id:"auth_dataId",type:"auth_data",label:"绑定ID",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_data');"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},"font-size":{id:"font-sizeId",type:"digitAddMinus",label:"字体大小",value:"",attrName:"font-size"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function SubmitButtonEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<a id="'+b+'"'+c.attrs+' name="submitbtn_type_'+b+'">提交</a><div class="forbidden"></div>';return d},this.contents={submitbtn_type:{attrTitle:"按钮属性",allowed:["button_text","auth_action","auth_da_text","data-role","data-transition"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"按钮名称",value:"按钮",onkeyup:"changeLabelTextByColumn(this,'value');",style:"display:none"},auth_action:{id:"auth_actionId",type:"auth_action",label:"跳转方式",showtype:"select",value:[{label:"弹出框",value:"openDialog",selected:!0},{label:"新页面",value:"openNewPage",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_action');"},auth_da_text:{id:"auth_da_textId",type:"auth_da_text",label:"跳转页面",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_da_text');"},"data-role":{id:"data-roleId",type:"data-role",label:"执行内容",value:"button",style:"display:none"},"data-transition":{id:"data-transitionId",type:"data-transition",label:"执行效果",showtype:"select",value:[{label:"淡入",value:"fade",selected:!0},{label:"翻转",value:"flip",selected:!1},{label:"抛出",value:"flow",selected:!1},{label:"弹出",value:"pop",selected:!1},{label:"从右到左滑动",value:"slide",selected:!1},{label:"从右到左滑动并淡入",value:"slidefade",selected:!1},{label:"从下到上滑动",value:"slideup",selected:!1},{label:"从上到下滑动",value:"slidedown",selected:!1},{label:"无效果",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'data-transition');"}}}
}function TableLabelEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<label  id="'+b+'" '+c.attrs+' name="'+a+"_"+b+'">'+this.contents[a].value.label+'</label><div class="forbidden"></div>';return d},this.contents={tablelabel_type:{attrTitle:"文本属性",allowed:["style","columnname"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},value:{id:"valueId",type:"text",label:"字段名称",value:"",onkeyup:"changeLabelTextByColumn(this,'value');",style:"display:none"},columnname:{id:"columnnameId",type:"text",label:"列绑定ID",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'columnname');"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},"font-size":{id:"font-sizeId",type:"digitAddMinus",label:"字体大小",value:"",attrName:"font-size"}}}}function TextareaEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<textarea  id="'+b+'" name="'+a+"_"+b+'"'+c.attrs+' ></textarea><div class="forbidden"></div>';return d},this.contents={textarea_type:{attrTitle:"多行文本属性",allowed:["value","auth_data","auth_range","style","color","isdisabled","isrequired","auth_isfill","hidding"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},label:{id:"labelId",type:"text",label:"名称",value:"Text Input",style:"display:none"},value:{id:"valueId",type:"textarea",label:"默认值",value:"t",onkeyup:"Cominteraction.changeTextByColumn(this,'value');"},auth_range:{id:"auth_rangeId",type:"auth_range",label:"值域范围",showtype:"select",value:[{label:"全局级",value:"system",selected:!1},{label:"页面级",value:"page",selected:!1},{label:"协议级",value:"protocol",selected:!0}],onchange:"Cominteraction.changeTextByColumn(this,'auth_range');"},isdisabled:{id:"isdisabledId",type:"select",label:"是否可用",value:[{label:"是",value:"0",selected:!0},{label:"否",value:"1",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'isdisabled');"},isrequired:{id:"isrequiredId",type:"select",label:"是否必填",value:[{label:"是",value:"0",selected:!0},{label:"否",value:"1",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'isrequired');"},auth_isfill:{id:"auth_isfillId",type:"auth_isfill",label:"是否被填充数据",showtype:"select",value:[{label:"是",value:"true",selected:!0},{label:"否",value:"false",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'auth_isfill');"},auth_data:{id:"auth_dataId",type:"auth_data",label:"绑定ID",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'auth_data');"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');",style:"display:none"},color:{id:"colorId",type:"select",label:"字体颜色",value:[{label:"默认",value:"",selected:!0},{label:"蓝色",value:"#4fc1e9!important",selected:!1}],attrName:"color",onchange:"changeStyleByColumn(this,'color');"},hidding:{id:"hiddingId",type:"select",label:"是否默认隐藏",value:[{label:"是",value:"true",selected:!1},{label:"否",value:"false",selected:!0}],onchange:"changeHiddingByColumn(this,'hidding');"}}}}function TwoButtonEditor(a,b){this.createTag=function(){var a=(new Meditor).parseJsonAttrs((new ButtonEditor).contents.button_type),c=b,d=b+1,e='<div class="page_details_content_list"><div class="ui-grid-a"><div class="ui-block-a"><a id="'+c+'" name="button_type_'+c+'"'+a.attrs+'>确&nbsp;定</a></div><div class="ui-block-b"><a id="'+d+'" name="button_type_'+d+'"'+a.attrs+">取&nbsp;消</a></div></div></div>";return e}}function YesButtonEditor(a,b){this.createTag=function(){var c=(new Meditor).parseJsonAttrs(this.contents[a]),d='<a id="'+b+'"'+c.attrs+' name="yes_type_'+b+'">报【主管领导审核】</a><div class="forbidden"></div>';return d},this.contents={yes_type:{attrTitle:"同意属性",allowed:["style","button_text","data-role","data-transition"],id:{id:"idId",type:"text",label:"ID / Name",value:"",style:"display:none"},button_text:{id:"button_textId",type:"text",label:"链接名称",value:"同意",style:"display:none"},name:{id:"nameId",type:"text",label:"Name",value:"",style:"display:none"},style:{id:"styleId",type:"text",label:"自定义样式",value:"",onkeyup:"Cominteraction.changeTextByColumn(this,'style');"},"data-role":{id:"data-roleId",type:"data-role",label:"执行内容",value:"button",style:"display:none"},"data-transition":{id:"data-transitionId",type:"data-transition",label:"执行效果",showtype:"select",value:[{label:"淡入",value:"fade",selected:!0},{label:"翻转",value:"flip",selected:!1},{label:"抛出",value:"flow",selected:!1},{label:"弹出",value:"pop",selected:!1},{label:"从右到左滑动",value:"slide",selected:!1},{label:"从右到左滑动并淡入",value:"slidefade",selected:!1},{label:"从下到上滑动",value:"slideup",selected:!1},{label:"从上到下滑动",value:"slidedown",selected:!1},{label:"无效果",value:"none",selected:!1}],onchange:"Cominteraction.changeTextByColumn(this,'data-transition');"}}}}var MobileAttrs={parseAttrs:function(a,b){var c=(new Meditor).getContent(a),d='<div class="prTable">';for(var e in c){var f=c[e],g="",h="";switch("undefined"!=f.style&&void 0!=f.style&&(h='style="'+f.style+'"'),f.type){case"text":g=this.parseText(b,f,h);break;case"textarea":g=this.parseTextArea(f,h);break;case"auth_data":case"auth_da_text":g=this.parseAuthData(b,f,h);break;case"select":case"auth_range":case"auth_action":case"auth_isfill":case"data-transition":g=this.parseAuthSelectAction(b,f,h);break;case"listid":g=this.parseListId(b,f,h);break;case"auth_image":g=this.parseAuthImage(b,f,h);break;case"digitAddMinus":g=this.parseDigitAddMinus(b,f,h);break;case"button":g=this.parseSettingsButton(b,f,h)}d+=g}d+="</div>",$("#contentAttrs").html(d),this.parseValue(b)},parseFocus:function(a){"undefined"!=$(a).attr("auth_data")&&($("#auth_dataId").focus(),$("#auth_dataId").bind("blur",function(){return""==$(this).val()?(layer.alert("请填写绑定ID!",8),$("#auth_dataId").focus(),$(a).parents("li").css("background-color","red"),!1):void $(a).parents("li").removeAttr("style")}))},parseText:function(a,b,c){var d=b.value;$(a).is("input")&&""!=$(a).val()?d=$(a).val():$(a).is("label")&&""!=$(a).html()?""!=$(a).attr("auth_data")&&void 0!=$(a).attr("auth_data")&&(d=$(a).attr("auth_data")):$(a).is("textarea")&&""!=$(a).attr("auth_data")&&void 0!=$(a).attr("auth_data")&&(d=$(a).attr("auth_data"));var e="<li "+c+'><label for="'+b.id+'" >'+b.label+'</label><input data-role="none"  id="'+b.id+'" onkeyup="'+b.onkeyup+'" value="'+d+'" type="'+b.type+'" /></li>';return e},parseTextArea:function(a,b){var c="<li "+b+'><label for="'+a.id+'" >'+a.label+'</label><textarea data-role="none" class="tArea" id="'+a.id+'" onkeyup="'+a.onkeyup+'" value="'+a.value+'" ></textarea></li>';return c},parseSettingsButton:function(a,b,c){var d="<li "+c+'><input class="shangchuan_btn" data-role="none" value="'+b.value+'" type="button" class="tArea" id="'+b.id+'" onclick="'+b.onclick+'" /></li>';return d},parseAuthImage:function(a,b,c){var d=" onclick=uploadImg(); ",e="<li "+c+'><label for="'+b.id+'" >'+b.label+'</label><input data-role="none"  type="file" name="file" id="'+b.id+'_file" /><input class="shangchuan_btn" data-role="none" id="'+b.id+'_btn"'+d+' type="button" value="上传" /></li>';return e},parseAuthData:function(a,b,c){var d=b.value;""!=$(a).attr(b.type)&&void 0!=$(a).attr(b.type)&&(d=$(a).attr(b.type));var e="<li "+c+'><label for="'+b.id+'" >'+b.label+'</label><input data-role="none"  id="'+b.id+'" onkeyup="'+b.onkeyup+'" value="'+d+'" type="text" /></li>';return e},parseAuthSelectAction:function(a,b,c){var d=b.value,e="";"undefined"!=b.onchange&&void 0!=b.onchange&&(e=' onchange="'+b.onchange+'"');var f="";""!=$(a).attr(b.type)&&void 0!=$(a).attr(b.type)&&(f=$(a).attr(b.type));for(var g="<li "+c+'><label for="'+b.id+'" >'+b.label+'</label><select id="'+b.id+'" data-role="none" '+e+">",h=0;h<d.length;h++){var i="";""==f?d[h].selected&&(i="selected"):d[h].value==f&&(i="selected"),g+='<option value="'+d[h].value+'"'+i+">"+d[h].label+"</option>"}return g+="</select></li>"},parseListId:function(a,b,c){var d=b.value;""!=a.listid&&(d=a.listid);var e="<li "+c+'><label for="'+b.id+'" >'+b.label+'</label><input data-role="none"  id="'+b.id+'" onkeyup="'+b.onkeyup+'" value="'+d+'" type="text" /></li>';return e},parseDigitAddMinus:function(a){""!=a.value&&void 0!=a.value&&(val=a.value);var b='onClick=addStyle("'+$(a).attr("id")+'");',c='<li><textarea id="editor1" style="height: 300px" name="editor1"></textarea></li><input class=\'shezhi_btn\' data-role="none" type="button" value="设置" '+b+" /><script type=\"text/javascript\">CKEDITOR.replace('editor1');</script>";return c},parseValue:function(a){var b=$(a).get(0).attributes;if(void 0!=b){for(var c=0;c<b.length;c++)att=b[c],att.specified&&$("#"+att.name+"Id")&&$("#"+att.name+"Id").val("value"==att.name?$(a).val():att.value);var d=$(a).parents("li").attr("id"),e={};e=new MeditorConfig(e);var f=e.fillckeditor;$.each(f,function(b,c){c==d&&CKEDITOR.instances.editor1.setData($(a).html())})}else void 0!=$("#listidId")&&void 0!=a.listid&&$("#listidId").val(a.listid),void 0!=$("#listrowidId")&&void 0!=a.listrowid&&$("#listrowidId").val(a.listrowid)}},MoblieEditor={buildHtml:function(id,item){var html="",time=(new Date).getTime(),realId="idId_"+new String(time);item.clone().insertAfter(item),$(item).removeClass(),$(item).addClass("highlight"),$(item).attr("itemId",time),$(item).attr("name",id);var config={};config=new MeditorConfig(config);var specialclass=config.specialclass;$.each(specialclass,function(a,b){for(var c in b){var d=b[c];if(id==c){for(var a=0;a<d.length;a++)$(item).addClass(d[a]);break}}});var plugins=config.plugins;return $.each(plugins,function(i,n){for(var key in n){var pObj=eval(n[key]);if(id==key){var editor=new pObj(id,realId);html=Meditor.create(editor);break}}}),html}},activeId,Cominteraction={changePro:function(a,b){if(a){activeId=$(b).attr("id");var c=(new Meditor).getContent(a);$(".titleText").html(c.attrTitle),MobileAttrs.parseAttrs(a,b)}},changeList:function(a,b){activeId=b.id,MobileAttrs.parseAttrs(a,b)},changeTextByColumn:function(a,b){if(""!=a.value&&" "!=a.value){"value"==b?($("#"+activeId).val(a.value),$("#"+activeId).attr(b,a.value)):$("#"+activeId).attr(b,a.value);var c=$("#"+activeId).parents("li").attr("id");("hidden_type"==c||"textarea_type"==c||"input_type"==c)&&"auth_data"==b&&$("#"+activeId).attr("name",a.value),"textarea_type"==c&&("isdisabled"==b&&"1"==a.value?$("#"+activeId).attr("style","color:#000;font-weight:bolder;"):"isdisabled"==b&&"0"==a.value&&$("#"+activeId).removeAttr("style"))}else $("#"+activeId).attr(b," ")}};$(function(){var a={com_type:{input:"input_type",textarea:"textarea_type",a:["button_type","link_type","listview_type","yes_type","no_type","submitbtn_type"],label:["hidden_type","show_label_type","tablelabel_type","label_type"]},getType:function(a){return this.com_type[a]?this.com_type[a]:void 0}};$("body .phoneScreen").delegate("label","dblclick",function(b){var c=$(this).attr("name"),d="label",e=a.getType(d);if(e&&e instanceof Array)for(var f in e){if("hidden_type"==$(this).parents("li").attr("id")){Cominteraction.changePro("hidden_type",this);break}if(c.indexOf(e[f])>=0){Cominteraction.changePro(e[f],this);break}}b.stopPropagation()}),document.getElementById("details").addEventListener("click",function(b){var c=b.target.tagName.toLowerCase(),d=b.target.name,e=a.getType(c);if(e)if(e instanceof Array){for(var f in e)if(d&&d.indexOf(e[f])>=0){Cominteraction.changePro(e[f],b.target);break}}else Cominteraction.changePro(e,b.target)},!1),$("body .phoneScreen").delegate("div","click",function(){if(void 0!=$(this).attr("id")&&void 0!=$(this).attr("listid")){var a={listid:$(this).attr("listid"),id:$(this).attr("id")};Cominteraction.changeList("list_type",a)}}),$("body .phoneScreen").delegate("table","click",function(){if(void 0!=$(this).attr("id")&&void 0!=$(this).attr("listrowid")){var a={listrowid:$(this).attr("listrowid"),id:$(this).attr("id")};Cominteraction.changeList("listrow_type",a)}}),$("body .phoneScreen").delegate("li","click",function(){if(void 0!=$(this).attr("id")&&"divider_type"==$(this).attr("id")){var a={id:$(this).attr("id")};Cominteraction.changeList("divider_type",a)}else if(void 0==$(this).attr("id")||"header_type"!=$(this).attr("id")&&"footer_type"!=$(this).attr("id"))void 0!=$(this).attr("id")&&"select_type"==$(this).attr("id")&&Cominteraction.changePro("select_type",$(this).find("select:first"));else{var a=$(this).find(":header").first();Cominteraction.changePro($(this).attr("id"),$(a))}}),$("#pad").click(function(){$(".phoneGray, .phoneRec, .phoneScreen, .phoneHome").removeClass("rot"),$(".phoneScreen").animate({height:384,width:512},"fast"),$(".phoneGray").animate({width:512},"fast")}),$("#phone").click(function(){$(".phoneScreen").animate({height:454,width:254},"fast"),$(".phoneGray").animate({width:256},"fast"),$(".phoneGray, .phoneRec, .phoneScreen, .phoneHome").removeClass("rot")}),$("#rotation").click(function(){var a=$(".phoneScreen").css("height");("454px"==a||"254px"==a)&&($(".phoneGray").animate({width:507},100),$(".phoneGray, .phoneRec, .phoneScreen, .phoneHome").addClass("rot"),$(".phoneScreen").animate({height:254,width:454},140))})}),window.MEDITOR||(window.MEDITOR=function(){var a={basePath:function(){for(var a=document.getElementsByTagName("script"),b="",c=0;c<a.length;c++){var d=a[c].src.match(/(^|.*?[\\\/])(?:_source\/)?core\/meditor.js(?:\?.*)?$/i);if(d){b=d[1];break}}return b}()};return a}()),Meditor.create=function(a){return a instanceof Meditor?a.createTag():void 0},MeditorConfig=function(a){return a.plugins=[{button_type:"ButtonEditor"},{date_type:"DateEditor"},{divider_type:"DividerEditor"},{footer_type:"FooterEditor"},{header_type:"HeaderEditor"},{input_type:"InputEditor"},{hidden_type:"InputHiddenEditor"},{label_type:"LabelEditor"},{link_type:"LinkEditor"},{list_type:"ListEditor"},{listrow_type:"ListRowEditor"},{listview_type:"ListViewEditor"},{no_type:"NoButtonEditor"},{onelinetwocolumn_type:"OneLineTwoColumnEditor"},{show_label_type:"ShowLabelEditor"},{submitbtn_type:"SubmitButtonEditor"},{tablelabel_type:"TableLabelEditor"},{textarea_type:"TextareaEditor"},{twobutton_type:"TwoButtonEditor"},{yes_type:"YesButtonEditor"},{radio_type:"RadioEditor"},{select_type:"SelectEditor"},{headernav_type:"HeaderNavEditor"}],a.specialclass=[{button_type:["padding_left_right"]},{date_type:["padding_left_right"]},{divider_type:["bd_height"]},{footer_type:["footer_li_btn"]},{tablelabel_type:[""]},{headernav_type:[""]},{header_type:[]},{input_type:["padding_left_right","input_text"]},{hidden_type:["padding_left_right","hidden_bg"]},{label_type:["padding_left_right"]},{link_type:["padding_left_right"]},{list_type:["padding_left_right"]},{listrow_type:["padding_left_right"]},{listview_type:["padding_left_right"]},{no_type:["padding_left_right"]},{onelinetwocolumn_type:["padding_left_right","text-label-bd-bottom"]},{show_label_type:["padding_left_right","placeLabel","label_lineheight"]},{submitbtn_type:["padding_left_right"]},{textarea_type:["padding_left_right"]},{twobutton_type:["padding_left_right"]},{yes_type:["padding_left_right"]},{radio_type:["padding_left_right"]},{select_type:["padding_left_right"]}],a.fillckeditor=["label_type","show_label_type","list_type","onelinetwocolumn_type","listrow_type","select_type","tablelabel_type"],a},ButtonEditor.prototype=new Meditor,DateEditor.prototype=new Meditor,DividerEditor.prototype=new Meditor,FooterEditor.prototype=new Meditor,HeaderEditor.prototype=new Meditor,HeaderNavEditor.prototype=new Meditor,InputEditor.prototype=new Meditor,InputHiddenEditor.prototype=new Meditor,LabelEditor.prototype=new Meditor,LinkEditor.prototype=new Meditor,ListEditor.prototype=new Meditor,ListRowEditor.prototype=new Meditor,ListViewEditor.prototype=new Meditor,NoButtonEditor.prototype=new Meditor,OneLineTwoColumnEditor.prototype=new Meditor,RadioEditor.prototype=new Meditor,SelectEditor.prototype=new Meditor,ShowLabelEditor.prototype=new Meditor,SubmitButtonEditor.prototype=new Meditor,TableLabelEditor.prototype=new Meditor,TextareaEditor.prototype=new Meditor,TwoButtonEditor.prototype=new Meditor,YesButtonEditor.prototype=new Meditor;